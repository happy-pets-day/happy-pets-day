<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.happypetsday.mapper.PetMapper">
    <select id="selectUsersPet" resultType="petDto">
        SELECT PET_NUMBER, USER_NUMBER, PET_NAME, PET_BIRTH, PET_KIND, PET_DETAILED_TYPE, PET_GENDER, PET_SURGERY
        FROM TBL_PET
        WHERE USER_NUMBER =#{userNumber}
    </select>

    <insert id="insertPet">
        <selectKey keyProperty="petNumber" order="BEFORE" resultType="Long">
            SELECT SEQ_PET.NEXTVAL FROM DUAL
        </selectKey>
        INSERT INTO TBL_PET (PET_NUMBER, USER_NUMBER, PET_NAME, PET_BIRTH, PET_KIND, PET_DETAILED_TYPE, PET_GENDER, PET_SURGERY)
        VALUES (#{petNumber}, #{userNumber}, #{petName}, #{petBirth}, #{petKind}, #{petDetailedType}, #{petGender}, #{petSurgery})
    </insert>


</mapper>